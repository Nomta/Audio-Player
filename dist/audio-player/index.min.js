!function o(s,a,u){function l(i,t){if(!a[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[i]={exports:{}};s[i][0].call(n.exports,function(t){var e=s[i][1][t];return l(e||t)},n,n.exports,o,s,a,u)}return a[i].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,i){var r,n=e.exports={},o=[],s=!1,a=-1;function u(){s=!1,r.length?o=r.concat(o):a=-1,o.length&&l()}function l(){if(!s){var t=setTimeout(u);s=!0;for(var e=o.length;e;){for(r=o,o=[];++a<e;)r&&r[a].run();a=-1,e=o.length}r=null,s=!1,clearTimeout(t)}}function c(t,e){this.fun=t,this.array=e}function h(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.push(new c(t,e)),1!==o.length||s||setTimeout(l,0)},c.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],2:[function(t,A,e){(function(w){!function(h){var s,e=function(){var r=[],i=function(t){return 1===r.push(t)},n=function(){var t=r,e=0,i=r.length;for(r=[];e<i;)t[e++]()};if("function"==typeof setImmediate)return function(t){i(t)&&setImmediate(n)};if("object"==typeof w&&w.nextTick)return function(t){i(t)&&w.nextTick(n)};var t=h.MutationObserver||h.WebKitMutationObserver;if(t){var e=1,o=document.createTextNode("");return new t(n).observe(o,{characterData:!0}),function(t){i(t)&&(o.data=e*=-1)}}if(h.postMessage){var s=!0;if(h.attachEvent){var a=function(){s=!1};h.attachEvent("onmessage",a),h.postMessage("__checkAsync","*"),h.detachEvent("onmessage",a)}if(s){var u="__promise"+ +new Date,l=function(t){t.data===u&&(t.stopPropagation&&t.stopPropagation(),n())};return h.addEventListener?h.addEventListener("message",l,!0):h.attachEvent("onmessage",l),function(t){i(t)&&h.postMessage(u,"*")}}}var c=h.document;if("onreadystatechange"in c.createElement("script")){return function(t){var e;i(t)&&((e=c.createElement("script")).onreadystatechange=function(){e.parentNode.removeChild(e),e=e.onreadystatechange=null,n()},(c.documentElement||c.body).appendChild(e))}}return function(t){i(t)&&setTimeout(n,0)}}(),n=function(t){e(function(){throw t})},a=function(t){return"function"==typeof t},o=function(t){return null!==t&&"object"==typeof t},i=Object.prototype.toString,l=Array.isArray||function(t){return"[object Array]"===i.call(t)},c=function(t){for(var e=[],i=0,r=t.length;i<r;)e.push(i++);return e},p=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},u=function(e,i){return function(t){e.call(this,t,i)}},d=function(){this._promise=new t};d.prototype={promise:function(){return this._promise},resolve:function(t){this._promise.isResolved()||this._promise._resolve(t)},reject:function(t){this._promise.isResolved()||(b.isPromise(t)?(t=t.then(function(t){var e=b.defer();return e.reject(t),e.promise()}),this._promise._resolve(t)):this._promise._reject(t))},notify:function(t){this._promise.isResolved()||this._promise._notify(t)}};var r=0,f=1,_=2,m=3,t=function(t){if(this._value=s,this._status=r,this._fulfilledCallbacks=[],this._rejectedCallbacks=[],this._progressCallbacks=[],t){var e=this,i=t.length;t(function(t){e.isResolved()||e._resolve(t)},1<i?function(t){e.isResolved()||e._reject(t)}:s,2<i?function(t){e.isResolved()||e._notify(t)}:s)}};t.prototype={valueOf:function(){return this._value},isResolved:function(){return this._status!==r},isFulfilled:function(){return this._status===_},isRejected:function(){return this._status===m},then:function(t,e,i,r){var n=new d;return this._addCallbacks(n,t,e,i,r),n.promise()},catch:function(t,e){return this.then(s,t,e)},fail:function(t,e){return this.then(s,t,e)},always:function(t,e){var i=this,r=function(){return t.call(this,i)};return this.then(r,r,e)},progress:function(t,e){return this.then(s,s,t,e)},spread:function(e,t,i){return this.then(function(t){return e.apply(this,t)},t,i)},done:function(t,e,i,r){this.then(t,e,i,r).fail(n)},delay:function(i){var r,t=this.then(function(t){var e=new d;return r=setTimeout(function(){e.resolve(t)},i),e.promise()});return t.always(function(){clearTimeout(r)}),t},timeout:function(t){var e=new d,i=setTimeout(function(){e.reject(new b.TimedOutError("timed out"))},t);return this.then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise().always(function(){clearTimeout(i)}),e.promise()},_vow:!0,_resolve:function(t){if(!(this._status>f))if(t!==this)if(this._status=f,t&&t._vow)t.isFulfilled()?this._fulfill(t.valueOf()):t.isRejected()?this._reject(t.valueOf()):t.then(this._fulfill,this._reject,this._notify,this);else{if(o(t)||a(t)){var e;try{e=t.then}catch(t){return void this._reject(t)}if(a(e)){var i=this,r=!1;try{e.call(t,function(t){r||(r=!0,i._resolve(t))},function(t){r||(r=!0,i._reject(t))},function(t){i._notify(t)})}catch(t){r||this._reject(t)}return}}this._fulfill(t)}else this._reject(TypeError("Can't resolve promise with itself"))},_fulfill:function(t){this._status>f||(this._status=_,this._value=t,this._callCallbacks(this._fulfilledCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=s)},_reject:function(t){this._status>f||(this._status=m,this._value=t,this._callCallbacks(this._rejectedCallbacks,t),this._fulfilledCallbacks=this._rejectedCallbacks=this._progressCallbacks=s)},_notify:function(t){this._callCallbacks(this._progressCallbacks,t)},_addCallbacks:function(t,e,i,r,n){var o;i&&!a(i)?(n=i,i=s):r&&!a(r)&&(n=r,r=s),this.isRejected()||(o={defer:t,fn:a(e)?e:s,ctx:n},this.isFulfilled()?this._callCallbacks([o],this._value):this._fulfilledCallbacks.push(o)),this.isFulfilled()||(o={defer:t,fn:i,ctx:n},this.isRejected()?this._callCallbacks([o],this._value):this._rejectedCallbacks.push(o)),this._status<=f&&this._progressCallbacks.push({defer:t,fn:r,ctx:n})},_callCallbacks:function(s,a){var u=s.length;if(u){var l=this.isResolved(),c=this.isFulfilled();e(function(){for(var t,e,i,r=0;r<u;)if(e=(t=s[r++]).defer,i=t.fn){var n,o=t.ctx;try{n=o?i.call(o,a):i(a)}catch(t){e.reject(t);continue}l?e.resolve(n):e.notify(n)}else l?c?e.resolve(a):e.reject(a):e.notify(a)})}}};var E={cast:function(t){return b.cast(t)},all:function(t){return b.all(t)},race:function(t){return b.anyResolved(t)},resolve:function(t){return b.resolve(t)},reject:function(t){return b.reject(t)}};for(var y in E)E.hasOwnProperty(y)&&(t[y]=E[y]);var v,g,b={Deferred:d,Promise:t,defer:function(){return new d},when:function(t,e,i,r,n){return b.cast(t).then(e,i,r,n)},fail:function(t,e,i){return b.when(t,s,e,i)},always:function(t,e,i){return b.when(t).always(e,i)},progress:function(t,e,i){return b.when(t).progress(e,i)},spread:function(t,e,i,r){return b.when(t).spread(e,i,r)},done:function(t,e,i,r,n){b.when(t).done(e,i,r,n)},isPromise:function(t){return o(t)&&a(t.then)},cast:function(t){return t&&t._vow?t:b.resolve(t)},valueOf:function(t){return t&&a(t.valueOf)?t.valueOf():t},isFulfilled:function(t){return!t||!a(t.isFulfilled)||t.isFulfilled()},isRejected:function(t){return!(!t||!a(t.isRejected))&&t.isRejected()},isResolved:function(t){return!t||!a(t.isResolved)||t.isResolved()},resolve:function(t){var e=b.defer();return e.resolve(t),e.promise()},fulfill:function(t){var e=b.defer(),i=e.promise();return e.resolve(t),i.isFulfilled()?i:i.then(null,function(t){return t})},reject:function(t){var e=b.defer();return e.reject(t),e.promise()},invoke:function(t,e){var i,r=Math.max(arguments.length-1,0);if(r){i=Array(r);for(var n=0;n<r;)i[n++]=arguments[n]}try{return b.resolve(i?t.apply(h,i):t.call(h))}catch(t){return b.reject(t)}},all:function(t){var i=new d,e=l(t),r=e?c(t):p(t),n=r.length,o=e?[]:{};if(!n)return i.resolve(o),i.promise();var s=n;return b._forEach(t,function(t,e){o[r[e]]=t,--s||i.resolve(o)},i.reject,i.notify,i,r),i.promise()},allResolved:function(t){var e=new d,i=l(t),r=i?c(t):p(t),n=r.length,o=i?[]:{};if(!n)return e.resolve(o),e.promise();var s=function(){--n||e.resolve(t)};return b._forEach(t,s,s,e.notify,e,r),e.promise()},allPatiently:function(u){return b.allResolved(u).then(function(){var t,e,i,r,n=l(u),o=n?c(u):p(u),s=o.length,a=0;if(!s)return n?[]:{};for(;a<s;)i=o[a++],r=u[i],b.isRejected(r)?(t||(t=n?[]:{}),n?t.push(r.valueOf()):t[i]=r.valueOf()):t||((e||(e=n?[]:{}))[i]=b.valueOf(r));if(t)throw t;return e})},any:function(t){var e=new d,i=t.length;if(!i)return e.reject(Error()),e.promise();var r,n=0;return b._forEach(t,e.resolve,function(t){n||(r=t),++n===i&&e.reject(r)},e.notify,e),e.promise()},anyResolved:function(t){var e=new d;return t.length?b._forEach(t,e.resolve,e.reject,e.notify,e):e.reject(Error()),e.promise()},delay:function(t,e){return b.resolve(t).delay(e)},timeout:function(t,e){return b.resolve(t).timeout(e)},_forEach:function(t,e,i,r,n,o){for(var s=o?o.length:t.length,a=0;a<s;)b.when(t[o?o[a]:a],u(e,a),i,r,n),++a},TimedOutError:(v="TimedOut",g=function(t){this.name=v,this.message=t},g.prototype=new Error,g)},T=!0;"object"==typeof A&&"object"==typeof A.exports&&(A.exports=b,T=!1),"object"==typeof modules&&a(modules.define)&&(modules.define("vow",function(t){t(b)}),T=!1),"function"==typeof define&&(define(function(t,e,i){i.exports=b}),T=!1),T&&(h.vow=b)}(this)}).call(this,t("_process"))},{_process:1}],3:[function(t,e,i){var o=new(t("./logger/logger"))("Audio"),r=t("./lib/async/events"),n=t("./lib/async/promise"),s=t("./lib/async/deferred"),a=t("./lib/browser/detect"),u=t("./config"),l=t("./lib/data/merge"),c=t("./lib/async/reject"),h=t("./error/audio-error"),p=t("./audio-static"),d=1,f={html5:t("./html5/audio-html5"),flash:t("./flash/audio-flash")},_="@"+a.platform.version+" "+a.platform.os+":"+a.browser.name+"/"+a.browser.version;f.flash.priority=0,f.html5.priority=u.html5.blacklist.some(function(t){return _.match(t)})?-1:1,setTimeout(function(){o.info({flash:{available:f.flash.available,priority:f.flash.priority},html5:{available:f.html5.available,priority:f.html5.priority,audioContext:!!f.html5.audioContext}},"audioTypes")},0);var m=function(t,e){this.name=d++,DEV&&o.debug(this,"constructor"),r.call(this),this.preferredType=t,this.overlay=e,this.state=m.STATE_INIT,this._played=0,this._lastSkip=0,this._playId=null,this._initInProgress=!0,this._whenReady=new s,this.whenReady=this._whenReady.promise().then(function(){this._initInProgress=!1,o.info(this,"implementation found",this.implementation.type),this.implementation.on("*",function(t,e,i){if(this._populateEvents(t,e,i),!e)switch(t){case m.EVENT_PLAY:this._setState(m.STATE_PLAYING);break;case m.EVENT_ENDED:case m.EVENT_SWAP:case m.EVENT_STOP:case m.EVENT_ERROR:o.info(this,"onEnded",t,i),this._setState(m.STATE_IDLE);break;case m.EVENT_PAUSE:this._setState(m.STATE_PAUSED);break;case m.EVENT_CRASHED:this._setState(m.STATE_CRASHED)}}.bind(this)),this._setState(m.STATE_IDLE)}.bind(this),function(t){throw this._initInProgress=!1,o.error(this,h.NO_IMPLEMENTATION,t),this._setState(m.STATE_CRASHED),t}.bind(this)),this._init(0)};r.mixin(m),l(m,p,!0),m.info={html5:f.html5.available,flash:f.flash.available},m.audioContext=f.html5.audioContext,m.prototype._setState=function(t){if(DEV&&o.debug(this,"_setState",t),t!==m.STATE_PAUSED||this.state===m.STATE_PLAYING){var e=this.state!==t;this.state=t,e&&(o.info(this,"newState",t),this.trigger(m.EVENT_STATE,t))}},m.prototype._init=function(i){if(i=i||0,o.info(this,"_init",i),this._initInProgress){i>u.audio.retry&&(o.error(this,h.NO_IMPLEMENTATION),this._whenReady.reject(new h(h.NO_IMPLEMENTATION)));var r=[f.html5,f.flash].sort(function(t,e){return t.available!==e.available?t.available?-1:1:t.AudioImplementation.type===this.preferredType?-1:e.AudioImplementation.type===this.preferredType?1:e.priority-t.priority}.bind(this)),n=this;!function t(){var e=r.shift();e?n._initType(e).then(n._whenReady.resolve,t):n._init(i+1)}()}},m.prototype._initType=function(e){o.info(this,"_initType",e);var i=new s;try{this.implementation=new e.AudioImplementation(this.overlay),this.implementation.whenReady?this.implementation.whenReady.then(i.resolve,i.reject):i.resolve()}catch(t){i.reject(t),o.warn(this,"_initTypeError",e,t)}return i.promise()},m.prototype._waitEvents=function(t,e,i){var r=new s,n=this;this[t]=r;var o=function(){e.forEach(function(t){n.off(t,r.resolve)}),i.forEach(function(t){n.off(t,r.reject)}),delete n[t]};return e.forEach(function(t){n.on(t,r.resolve)}),i.forEach(function(i){n.on(i,function(t){var e=t instanceof Error?t:new h(t||i);r.reject(e)})}),r.promise().then(o,o),r.promise()},m.prototype._populateEvents=function(t,e,i){t!==m.EVENT_PROGRESS&&DEV&&o.debug(this,"_populateEvents",t,e,i);var r=(e?m.PRELOADER_EVENT:"")+t;switch(t){case m.EVENT_CRASHED:case m.EVENT_SWAP:this.trigger(t,i);break;case m.EVENT_ERROR:o.error(this,"error",r,i),this.trigger(r,i);break;case m.EVENT_VOLUME:this.trigger(t,this.getVolume());break;case m.EVENT_PROGRESS:this.trigger(r,{duration:this.getDuration(e),loaded:this.getLoaded(e),position:e?0:this.getPosition(),played:e?0:this.getPlayed()});break;default:this.trigger(r)}},m.prototype.initPromise=function(){return this.whenReady},m.prototype.getState=function(){return this.state},m.prototype.getType=function(){return this.implementation&&this.implementation.type},m.prototype.getSrc=function(t){return this.implementation&&this.implementation.getSrc(t)},m.prototype.play=function(t,e){o.info(this,"play",o._showUrl(t),e),this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("play"),this._whenPause&&this._whenPause.reject("play"),this._whenStop&&this._whenStop.reject("play");var i=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);return i.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED),this.implementation.play(t,e),i},m.prototype.restart=function(){return this.getDuration()?(this._generatePlayId(),this.setPosition(0),this._played=0,this._lastSkip=0,this.resume()):c(new h(h.BAD_STATE))},m.prototype.stop=function(t){return o.info(this,"stop",t),0!==t?this.implementation.stop(t):(this._played=0,this._lastSkip=0,this._whenPlay&&this._whenPlay.reject("stop"),this._whenPause&&this._whenPause.reject("stop"),e=this._whenStop?this._whenStop.promise():this._waitEvents("_whenStop",[m.EVENT_STOP],[m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.stop(),e);var e},m.prototype.pause=function(){return o.info(this,"pause"),this.state!==m.STATE_PLAYING?c(new h(h.BAD_STATE)):(this._whenPlay&&this._whenPlay.reject("pause"),t=this._whenPause?this._whenPause.promise():this._waitEvents("_whenPause",[m.EVENT_PAUSE],[m.EVENT_STOP,m.EVENT_PLAY,m.EVENT_ERROR,m.EVENT_CRASHED]),this.implementation.pause(),t);var t},m.prototype.resume=function(){return o.info(this,"resume"),this.state!==m.STATE_PLAYING||this._whenPause?this.state!==m.STATE_IDLE&&this.state!==m.STATE_PAUSED&&this.state!==m.STATE_PLAYING?c(new h(h.BAD_STATE)):(this._whenPause&&this._whenPause.reject("resume"),this._whenPlay?t=this._whenPlay.promise():(t=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED])).abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this.implementation.resume(),t):n.resolve();var t},m.prototype.playPreloaded=function(t){if(o.info(this,"playPreloaded",o._showUrl(t)),t||(t=this.getSrc(1)),!this.isPreloaded(t))return o.warn(this,"playPreloadedBadTrack",h.NOT_PRELOADED),c(new h(h.NOT_PRELOADED));this._played=0,this._lastSkip=0,this._generatePlayId(),this._whenPlay&&this._whenPlay.reject("playPreloaded"),this._whenPause&&this._whenPause.reject("playPreloaded"),this._whenStop&&this._whenStop.reject("playPreloaded");var e=this._waitEvents("_whenPlay",[m.EVENT_PLAY],[m.EVENT_STOP,m.EVENT_ERROR,m.EVENT_CRASHED]);return e.abort=function(){this._whenPlay&&(this._whenPlay.reject.apply(this._whenPlay,arguments),this.stop())}.bind(this),this._setState(m.STATE_PAUSED),this.implementation.playPreloaded()||(o.warn(this,"playPreloadedError",h.NOT_PRELOADED),this._whenPlay.reject(new h(h.NOT_PRELOADED))),e},m.prototype.preload=function(t,e){if("msie"===a.browser.name&&"9"==a.browser.version[0])return c(new h(h.NOT_PRELOADED));o.info(this,"preload",o._showUrl(t),e),this._whenPreload&&this._whenPreload.reject("preload");var i=this._waitEvents("_whenPreload",[m.PRELOADER_EVENT+m.EVENT_LOADING,m.EVENT_SWAP],[m.PRELOADER_EVENT+m.EVENT_CRASHED,m.PRELOADER_EVENT+m.EVENT_ERROR,m.PRELOADER_EVENT+m.EVENT_STOP]);return i.abort=function(){this._whenPreload&&(this._whenPreload.reject.apply(this._whenPreload,arguments),this.stop(1))}.bind(this),this.implementation.preload(t,e),i},m.prototype.isPreloaded=function(t){return this.implementation.isPreloaded(t)},m.prototype.isPreloading=function(t){return this.implementation.isPreloading(t,1)},m.prototype.getPosition=function(){return this.implementation.getPosition()||0},m.prototype.setPosition=function(t){return o.info(this,"setPosition",t),t="flash"==this.implementation.type?Math.max(0,Math.min(this.getLoaded()-1,t)):Math.max(0,Math.min(this.getDuration()-1,t)),this._played+=this.getPosition()-this._lastSkip,this._lastSkip=t,this.implementation.setPosition(t),t},m.prototype.getDuration=function(t){return this.implementation.getDuration(t?1:0)||0},m.prototype.getLoaded=function(t){return this.implementation.getLoaded(t?1:0)||0},m.prototype.getPlayed=function(){var t=this.getPosition();return this._played+=t-this._lastSkip,this._lastSkip=t,this._played},m.prototype.getVolume=function(){return this.implementation?this.implementation.getVolume():0},m.prototype.setVolume=function(t){return DEV&&o.debug(this,"setVolume",t),this.implementation?this.implementation.setVolume(t):0},m.prototype.isDeviceVolume=function(){return!this.implementation||this.implementation.isDeviceVolume()},m.prototype.toggleCrossDomain=function(t){return"html5"!==this.implementation.type?(o.warn(this,"toggleCrossDomainFailed",this.implementation.type),!1):(this.implementation.toggleCrossDomain(t),!0)},m.prototype.toggleWebAudioAPI=function(t){return o.info(this,"toggleWebAudioAPI",t),"html5"!==this.implementation.type?(o.warn(this,"toggleWebAudioAPIFailed",this.implementation.type),!1):this.implementation.toggleWebAudioAPI(t)},m.prototype.setAudioPreprocessor=function(t){return o.info(this,"setAudioPreprocessor"),"html5"!==this.implementation.type?(o.warn(this,"setAudioPreprocessorFailed",this.implementation.type),!1):this.implementation.setAudioPreprocessor(t)},m.prototype._generatePlayId=function(){this._playId=Math.random().toString().slice(2)},m.prototype.getPlayId=function(){return this._playId},m.prototype._logger=function(){return{index:this.implementation&&this.implementation.name,src:this.implementation&&this.implementation._logger(),type:this.implementation&&this.implementation.type}},e.exports=m},{"./audio-static":4,"./config":5,"./error/audio-error":6,"./flash/audio-flash":10,"./html5/audio-html5":26,"./lib/async/deferred":28,"./lib/async/events":29,"./lib/async/promise":30,"./lib/async/reject":31,"./lib/browser/detect":32,"./lib/data/merge":37,"./logger/logger":43}],4:[function(t,e,i){var r={EVENT_PLAY:"play",EVENT_STOP:"stop",EVENT_PAUSE:"pause",EVENT_PROGRESS:"progress",EVENT_LOADING:"loading",EVENT_LOADED:"loaded",EVENT_VOLUME:"volumechange",EVENT_ENDED:"ended",EVENT_CRASHED:"crashed",EVENT_ERROR:"error",EVENT_STATE:"state",EVENT_SWAP:"swap",PRELOADER_EVENT:"preloader:",STATE_INIT:"init",STATE_CRASHED:"crashed",STATE_IDLE:"idle",STATE_PLAYING:"playing",STATE_PAUSED:"paused"};e.exports=r},{}],5:[function(t,e,i){e.exports={audio:{retry:3},flash:{path:"dist",name:"player-2_1.swf",version:"9.0.28",playerID:"YandexAudioFlashPlayer",callback:"ya.music.Audio._flashCallback",initTimeout:3e3,loadTimeout:5e3,clickTimeout:1e3,heartBeatInterval:1e3},html5:{blacklist:["linux:mozilla","unix:mozilla","macos:mozilla",":opera","@NT 5","@NT 4",":msie/9"]}}},{}],6:[function(t,e,i){var r=t("../lib/class/error-class"),n=function(t){r.call(this,t)};n.prototype=r.create("AudioError"),n.NO_IMPLEMENTATION="cannot find suitable implementation",n.NOT_PRELOADED="track is not preloaded",n.BAD_STATE="action is not permited from current state",n.FLASH_BLOCKER="flash is rejected by flash blocker plugin",n.FLASH_UNKNOWN_CRASH="flash is crashed without reason",n.FLASH_INIT_TIMEOUT="flash init timed out",n.FLASH_INTERNAL_ERROR="flash internal error",n.FLASH_EMMITER_NOT_FOUND="flash event emmiter not found",n.FLASH_NOT_RESPONDING="flash player doesn't response",e.exports=n},{"../lib/class/error-class":34}],7:[function(t,e,i){t("../export");var r=t("./audio-error"),n=t("./playback-error");ya.music.Audio.AudioError=r,ya.music.Audio.PlaybackError=n},{"../export":9,"./audio-error":6,"./playback-error":8}],8:[function(t,e,i){var r=t("../lib/class/error-class"),n=function(t,e){r.call(this,t),this.src=e};n.prototype=r.create("PlaybackError"),n.CONNECTION_ABORTED="Connection aborted",n.NETWORK_ERROR="Network error",n.DECODE_ERROR="Decode error",n.BAD_DATA="Bad data",n.DONT_START="Playback start error",n.html5={1:n.CONNECTION_ABORTED,2:n.NETWORK_ERROR,3:n.DECODE_ERROR,4:n.BAD_DATA},e.exports=n},{"../lib/class/error-class":34}],9:[function(t,e,i){"undefined"==typeof DEV&&(window.DEV=!0),void 0===window.ya&&(window.ya={});var r=window.ya;void 0===r.music&&(r.music={}),void 0===r.music.Audio&&(r.music.Audio={});var n=t("./config"),o=t("./audio-player"),s=t("./lib/class/proxy");r.music.Audio=s.createClass(o),r.music.Audio.config=n,t("./lib/export"),e.exports=r.music.Audio},{"./audio-player":3,"./config":5,"./lib/class/proxy":35,"./lib/export":38}],10:[function(t,e,i){var r,n=t("../config"),o=t("../lib/browser/swfobject"),s=t("../lib/browser/detect"),a=new(t("../logger/logger"))("AudioFlash"),u=t("./flash-manager"),l=t("./flash-interface"),c=t("../lib/async/events"),h=1,p=o.getFlashPlayerVersion();s.flashVersion=p.major+"."+p.minor+"."+p.release,i.available=o.hasFlashPlayerVersion(n.flash.version),a.info(this,"detection",i.available);var d=function(t,e){this.name=h++,DEV&&a.debug(this,"constructor"),r&&!e||(r=new u(t)),c.call(this),this.whenReady=r.createPlayer(this),this.whenReady.then(function(t){a.info(this,"ready",t)}.bind(this),function(t){a.error(this,"failed",t)}.bind(this))};c.mixin(d),i.type=d.type=d.prototype.type="flash",Object.keys(l.prototype).filter(function(t){return l.prototype.hasOwnProperty(t)&&"_"!==t[0]}).map(function(e){d.prototype[e]=function(){if(/^get/.test(e)||DEV&&a.debug(this,e),!this.hasOwnProperty("id"))return a.warn(this,"player is not ready"),null;var t=[].slice.call(arguments);return t.unshift(this.id),r.flash[e].apply(r.flash,t)}}),d.prototype.isDeviceVolume=function(){return!1},d.prototype._logger=function(){try{return this.hasOwnProperty("id")?{main:a._showUrl(this.getSrc(0)),preloader:a._showUrl(this.getSrc(1))}:{main:"not ready",preloader:"not ready"}}catch(t){return""}},i.AudioImplementation=d},{"../config":5,"../lib/async/events":29,"../lib/browser/detect":32,"../lib/browser/swfobject":33,"../logger/logger":43,"./flash-interface":11,"./flash-manager":12}],11:[function(t,e,i){var r=new(t("../logger/logger"))("FlashInterface"),n=function(t){this.flash=ya.music.Audio._flash=t};n.prototype._callFlash=function(t){try{return this.flash.call.apply(this.flash,arguments)}catch(t){return r.error(this,"_callFlashError",t,arguments[0],arguments[1],arguments[2]),null}},n.prototype._heartBeat=function(){this._callFlash("heartBeat",-1)},n.prototype._addPlayer=function(){return this._callFlash("addPlayer",-1)},n.prototype.setVolume=function(t,e){this._callFlash("setVolume",-1,e)},n.prototype.getVolume=function(){return this._callFlash("getVolume",-1)},n.prototype.play=function(t,e,i){this._callFlash("play",t,e,i&&1e3*i)},n.prototype.stop=function(t,e){this._callFlash("stop",t,e||0)},n.prototype.pause=function(t){this._callFlash("pause",t)},n.prototype.resume=function(t){this._callFlash("resume",t)},n.prototype.getPosition=function(t){return this._callFlash("getPosition",t)},n.prototype.setPosition=function(t,e){this._callFlash("setPosition",t,e)},n.prototype.getDuration=function(t,e){return this._callFlash("getDuration",t,e||0)},n.prototype.getLoaded=function(t,e){return this._callFlash("getLoaded",t,e||0)},n.prototype.preload=function(t,e,i,r){return this._callFlash("preload",t,e,i&&1e3*i,null==r?1:r)},n.prototype.isPreloaded=function(t,e,i){return this._callFlash("isPreloaded",t,e,null==i?1:i)},n.prototype.isPreloading=function(t,e,i){return this._callFlash("isPreloading",t,e,null==i?1:i)},n.prototype.playPreloaded=function(t,e){return this._callFlash("playPreloaded",t,null==e?1:e)},n.prototype.getSrc=function(t,e){return this._callFlash("getSrc",t,e||0)},e.exports=n},{"../logger/logger":43}],12:[function(t,e,i){var s=new(t("../logger/logger"))("FlashManager"),a=t("../config"),r=t("../audio-static"),u=t("./loader"),n=t("./flash-interface"),o=t("../lib/async/promise"),l=t("../lib/async/deferred"),c=t("../error/audio-error"),h=t("../lib/net/error/loader-error"),p=function(t){DEV&&s.debug(this,"constructor",t),this.state="init",this.overlay=t,this.emmiters=[];var e=this.deferred=new l;this.whenReady=this.deferred.promise();var i,r=a.flash.callback.split("."),n=r.pop(),o=window;(r.forEach(function(t){o[t]||(o[t]={}),o=o[t]}),o[n]=this._onEvent.bind(this),this.__loadTimeout=setTimeout(this._onLoadTimeout.bind(this),a.flash.loadTimeout),u(a.flash.path+"/"+a.flash.name,a.flash.version,a.flash.playerID,this._onLoad.bind(this),{},t),t)&&t.addEventListener("mousedown",function(){i=i||setTimeout(function(){e.reject(new c(c.FLASH_NOT_RESPONDING))},a.flash.clickTimeout)},!0);this.whenReady.then(function(t){i=i&&clearTimeout(i),s.info(this,"ready",t)}.bind(this),function(t){s.error(this,"failed",t)}.bind(this))};p.EVENT_INIT="init",p.EVENT_FAIL="failed",p.EVENT_ERROR="error",p.EVENT_DEBUG="debug",p.prototype._onLoad=function(t){DEV&&s.debug(this,"_onLoad",t),clearTimeout(this.__loadTimeout),delete this.__loadTimeout,t.success?(this.flash=new n(t.ref),"ready"===this.state?this.deferred.resolve(t.ref):this.overlay||(this.__initTimeout=setTimeout(this._onInitTimeout.bind(this),a.flash.initTimeout))):(this.state="failed",this.deferred.reject(new c(t.__fbn?c.FLASH_BLOCKER:c.FLASH_UNKNOWN_CRASH)))},p.prototype._onLoadTimeout=function(){this.state="failed",this.deferred.reject(new h(h.TIMEOUT))},p.prototype._onInitTimeout=function(){this.state="failed",this.deferred.reject(new c(c.FLASH_INIT_TIMEOUT))},p.prototype._onInit=function(){DEV&&s.debug(this,"_onInit"),this.state="ready",this.__initTimeout&&(clearTimeout(this.__initTimeout),delete this.__initTimeout),this.flash&&(this.deferred.resolve(this.flash),this.__heartbeat=setInterval(this._onHeartBeat.bind(this),1e3))},p.prototype._onEvent=function(e,t,i,r){if("failed"!==this.state)return e===p.EVENT_DEBUG?s.info(this,"flashDEBUG",t,i,r):e===p.EVENT_ERROR?s.warn(this,"flashError",t,i,r):DEV&&s.debug(this,"onEvent",e,t,i),e===p.EVENT_INIT?this._onInit():e===p.EVENT_FAIL?(s.error(this,"failed",c.FLASH_INTERNAL_ERROR),void this.deferred.reject(new c(c.FLASH_INTERNAL_ERROR))):void(-1==t?o.resolve().then(function(){this.emmiters.forEach(function(t){t.trigger(e,i,r)})}.bind(this)):this.emmiters[t]?o.resolve().then(function(){this.emmiters[t].trigger(e,i,r)}.bind(this)):s.error(this,c.FLASH_EMMITER_NOT_FOUND,t));s.warn(this,"onEventFailed",e,t,i,r)},p.prototype._onHeartBeat=function(){try{this.flash._heartBeat()}catch(t){s.error(this,"crashed",t),this._onEvent(r.EVENT_CRASHED,-1,t)}},p.prototype.createPlayer=function(t){DEV&&s.debug(this,"createPlayer");var e=this.whenReady.then(function(){return t.id=this.flash._addPlayer(),(this.emmiters[t.id]=t).id}.bind(this));return e.then(function(t){DEV&&s.debug(this,"createPlayerSuccess",t)}.bind(this),function(t){s.error(this,"createPlayerError",t)}.bind(this)),e},e.exports=p},{"../audio-static":4,"../config":5,"../error/audio-error":6,"../lib/async/deferred":28,"../lib/async/promise":30,"../lib/net/error/loader-error":40,"../logger/logger":43,"./flash-interface":11,"./loader":15}],13:[function(t,e,i){var d=t("../lib/browser/swfobject");function f(t){t.parentNode.removeChild(t)}var _={__SWF_WRAPPER_CLASS:"fbn-swf-wrapper",__TIMEOUT:500,__TESTS:[function(t,e){return 1<e.childNodes.length},function(t){return t.type&&"application/x-shockwave-flash"!=t.type},function(t){return!t.parentNode},function(t){return-1<t.parentNode.className.indexOf("CTFnodisplay")}],embedSWF:function(e,a,i,r,n,o,u,l,c,h,p){d&&d.addDomLoadEvent(function(){var t=document.getElementById(a);if(t){var s=document.createElement("div");s.className=_.__SWF_WRAPPER_CLASS,t.parentNode.replaceChild(s,t),s.appendChild(t),d.embedSWF(e,a,i,r,n,o,u,l,c,function(r){if(r&&!1!==r.success){var n=r.ref,t=!1;try{t=n&&n.getSVGDocument&&n.getSVGDocument()}catch(t){}t?o(r):window.setTimeout(function(){for(var t=_.__TESTS,e=0,i=t.length;e<i;e++)if(t[e](n,s))return void o(r);h(r)},_.__TIMEOUT)}else h(r);function o(t){if(!1!==p){d.removeSWF(a),f(s);var e=document.getElementById("CTFstack");e&&f(e);var i=document.body.lastChild;i&&"ujs_flashblock_placeholder"==i.className&&f(i)}t.success=!1,t.__fbn=!0,h(t)}})}})}};e.exports=_},{"../lib/browser/swfobject":33}],14:[function(t,e,i){var p=t("../lib/browser/swfobject"),d={__SWF_WRAPPER_CLASS:"femb-swf-wrapper",__TIMEOUT:500,embedSWF:function(i,r,n,o,s,a,u,l,c,h){p.addDomLoadEvent(function(){var t=document.getElementById(r);if(t){var e=document.createElement("div");e.className=d.__SWF_WRAPPER_CLASS,t.parentNode.replaceChild(e,t),e.appendChild(t),p.embedSWF(i,r,n,o,s,a,u,l,c,function(t){if(t&&!1!==t.success){var e=t.ref,i=!1;try{i=e&&e.getSVGDocument&&e.getSVGDocument()}catch(t){}i?((r=t).success=!1,h(r)):window.setTimeout(function(){h(t)},d.__TIMEOUT)}else h(t);var r})}})}};e.exports=d},{"../lib/browser/swfobject":33}],15:[function(t,e,i){var d=t("./flashblocknotifier"),f=t("./flashembedder"),r=t("../lib/browser/detect"),_="windows"===r.platform.os&&"safari"===r.browser.name;e.exports=function(t,e,i,r,n,o,s,a){var u,l,c,h,p=document.createElement("div");return p.id="wrapper_"+i,p.innerHTML='<div id="'+i+'"></div>',s=s||"1000",a=a||"1000",o&&!_?(u=f,l=s,c=a,h={allowscriptaccess:"always",wmode:"transparent"},p.className="ya-flash-player-wrapper",p.style.cssText="position: relative; width: 100%; height: 100%; overflow: hidden;",o.appendChild(p)):(u=d,l=c="1",h={allowscriptaccess:"always"},p.style.cssText="position: absolute; left: -1px; top: -1px; width: 0px; height: 0px; overflow: hidden;",document.body.appendChild(p)),u.embedSWF(t,i,l,c,e,"",n,h,{},r),p}},{"../lib/browser/detect":32,"./flashblocknotifier":13,"./flashembedder":14}],16:[function(t,e,i){e.exports=[60,170,310,600,1e3,3e3,6e3,12e3,14e3,16e3]},{}],17:[function(t,e,i){e.exports=[{id:"default",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]},{id:"Classical",preamp:-.5,bands:[-.5,-.5,-.5,-.5,-.5,-.5,-3.5,-3.5,-3.5,-4.5]},{id:"Club",preamp:-3.359999895095825,bands:[-.5,-.5,4,2.5,2.5,2.5,1.5,-.5,-.5,-.5]},{id:"Dance",preamp:-2.1599998474121094,bands:[4.5,3.5,1,-.5,-.5,-2.5,-3.5,-3.5,-.5,-.5]},{id:"Full Bass",preamp:-3.5999999046325684,bands:[4,4.5,4.5,2.5,.5,-2,-4,-5,-5.5,-5.5]},{id:"Full Bass & Treble",preamp:-5.039999961853027,bands:[3.5,2.5,-.5,-3.5,-2,.5,4,5.5,6,6]},{id:"Full Treble",preamp:-6,bands:[-4.5,-4.5,-4.5,-2,1,5.5,8,8,8,8]},{id:"Laptop Speakers / Headphone",preamp:-4.079999923706055,bands:[2,5.5,2.5,-1.5,-1,.5,2,4.5,6,7]},{id:"Large Hall",preamp:-3.5999999046325684,bands:[5,5,2.5,2.5,-.5,-2,-2,-2,-.5,-.5]},{id:"Live",preamp:-2.6399998664855957,bands:[-2,-.5,2,2.5,2.5,2.5,2,1,1,1]},{id:"Party",preamp:-2.6399998664855957,bands:[3.5,3.5,-.5,-.5,-.5,-.5,-.5,-.5,3.5,3.5]},{id:"Pop",preamp:-3.119999885559082,bands:[-.5,2,3.5,4,2.5,-.5,-1,-1,-.5,-.5]},{id:"Reggae",preamp:-4.079999923706055,bands:[-.5,-.5,-.5,-2.5,-.5,3,3,-.5,-.5,-.5]},{id:"Rock",preamp:-5.039999961853027,bands:[4,2,-2.5,-4,-1.5,2,4,5.5,5.5,5.5]},{id:"Ska",preamp:-5.519999980926514,bands:[-1,-2,-2,-.5,2,2.5,4,4.5,5.5,4.5]},{id:"Soft",preamp:-4.799999713897705,bands:[2,.5,-.5,-1,-.5,2,4,4.5,5.5,6]},{id:"Soft Rock",preamp:-2.6399998664855957,bands:[2,2,1,-.5,-2,-2.5,-1.5,-.5,1,4]},{id:"Techno",preamp:-3.8399999141693115,bands:[4,2.5,-.5,-2.5,-2,-.5,4,4.5,4.5,4]}]},{}],18:[function(t,e,i){var r=t("../../lib/async/events"),n=t("./equalizer-static"),o=function(t,e,i){r.call(this),this.type=e,this.filter=t.createBiquadFilter(),this.filter.type=e,this.filter.frequency.value=i,this.filter.Q.value=1,this.filter.gain.value=0};r.mixin(o),o.prototype.getFreq=function(){return this.filter.frequency.value},o.prototype.getValue=function(){return this.filter.gain.value},o.prototype.setValue=function(t){this.filter.gain.value=t,this.trigger(n.EVENT_CHANGE,t)},e.exports=o},{"../../lib/async/events":29,"./equalizer-static":19}],19:[function(t,e,i){var r={EVENT_CHANGE:"change"};e.exports=r},{}],20:[function(t,e,i){var s=t("../../lib/async/events"),r=t("../../lib/data/merge"),n=t("./equalizer-static"),a=t("./equalizer-band"),u=function(r,n){var o;s.call(this),this.preamp=new a(r,"highshelf",0),this.preamp.on("*",this._onBandEvent.bind(this,this.preamp)),n=n||u.DEFAULT_BANDS,this.bands=n.map(function(t,e){var i=new a(r,0==e?"lowshelf":e+1<n.length?"peaking":"highshelf",t);return i.on("*",this._onBandEvent.bind(this,i)),o?o.filter.connect(i.filter):this.preamp.filter.connect(i.filter),o=i}.bind(this)),this.input=this.preamp.filter,this.output=this.bands[this.bands.length-1].filter};s.mixin(u),r(u,n,!0),u.DEFAULT_BANDS=t("./default.bands.js"),u.DEFAULT_PRESETS=t("./default.presets.js"),u.prototype._onBandEvent=function(t,e,i){this.trigger(e,t.getFreq(),i)},u.prototype.loadPreset=function(t){t.bands.forEach(function(t,e){this.bands[e].setValue(t)}.bind(this)),this.preamp.setValue(t.preamp)},u.prototype.savePreset=function(){return{preamp:this.preamp.getValue(),bands:this.bands.map(function(t){return t.getValue()})}},u.prototype.guessPreamp=function(){for(var t=0,e=0,i=this.bands.length;e<i;e++)t+=this.bands[e].getValue();return-t/2},e.exports=u},{"../../lib/async/events":29,"../../lib/data/merge":37,"./default.bands.js":16,"./default.presets.js":17,"./equalizer-band":18,"./equalizer-static":19}],21:[function(t,e,i){t("../export"),ya.music.Audio.fx.Equalizer=t("./equalizer")},{"../export":22,"./equalizer":20}],22:[function(t,e,i){t("../export"),ya.music.Audio.fx={}},{"../export":9}],23:[function(t,e,i){t("../export"),ya.music.Audio.fx.volumeLib=t("./volume-lib")},{"../export":22,"./volume-lib":24}],24:[function(t,e,i){var r={EPSILON:.01};r._DBFS_COEF=20/Math.log(10),r.toExponent=function(t){var e=Math.pow(r.EPSILON,1-t);return e>r.EPSILON?e:0},r.fromExponent=function(t){return 1-Math.log(Math.max(t,r.EPSILON))/Math.log(r.EPSILON)},r.toDBFS=function(t){return Math.log(t)*r._DBFS_COEF},r.fromDBFS=function(t){return Math.exp(t/r._DBFS_COEF)},e.exports=r},{}],25:[function(t,e,i){var o=new(t("../logger/logger"))("AudioHTML5Loader"),r=t("../lib/async/events"),u=t("../lib/async/deferred"),n=t("../audio-static"),s=t("../error/playback-error"),a=t("../lib/noop"),l=1,c=function(){this.name=l++,DEV&&o.debug(this,"constructor"),r.call(this),this.on("*",function(t){t!==n.EVENT_PROGRESS&&DEV&&o.debug(this,"onEvent",t)}.bind(this)),this.promises={},this.src="",this.position=0,this.lastUpdate=0,this.notLoading=!0,this.output=null,this.__startPlay=this._startPlay.bind(this),this.__restart=this._restart.bind(this),this.__startupAudio=this._startupAudio.bind(this),this.__updateProgress=this._updateProgress.bind(this),this.__onNativeLoading=this._onNativeLoading.bind(this),this.__onNativeEnded=this._onNativeEnded.bind(this),this.__onNativeError=this._onNativeError.bind(this),this.__onNativePause=this._onNativePause.bind(this),this.__onNativePlay=this.trigger.bind(this,n.EVENT_PLAY),this._initAudio()};r.mixin(c),c._catchPromise=function(t){t&&t.catch&&t.catch(function(){})},c._updateInterval=30,c.EVENT_NATIVE_PLAY="play",c.EVENT_NATIVE_PAUSE="pause",c.EVENT_NATIVE_TIMEUPDATE="timeupdate",c.EVENT_NATIVE_ENDED="ended",c.EVENT_NATIVE_DURATION="durationchange",c.EVENT_NATIVE_LOADING="progress",c.EVENT_NATIVE_META="loadedmetadata",c.EVENT_NATIVE_CANPLAY="canplay",c.EVENT_NATIVE_ERROR="error",(c._defaultInitListener=function(){}).step="user",c.prototype._updateProgress=function(){var t=+new Date;t-this.lastUpdate<c._updateInterval||(this.lastUpdate=t,this.trigger(n.EVENT_PROGRESS))},c.prototype._onNativeLoading=function(){if(this._updateProgress(),this.audio.buffered.length){var t=this.audio.buffered.end(0)-this.audio.buffered.start(0);this.notLoading&&t&&(this.notLoading=!1,this.trigger(n.EVENT_LOADING)),t>=this.audio.duration-.1&&this.trigger(n.EVENT_LOADED)}},c.prototype._onNativeEnded=function(){this.trigger(n.EVENT_PROGRESS),this.trigger(n.EVENT_ENDED),this.ended=!0,this.playing=!1,c._catchPromise(this.audio.pause())},c.prototype._onNativeError=function(t){if(this.src){if(2==this.audio.error.code)return o.warn(this,"Network error. Restarting...",o._showUrl(this.src)),this.position=this.audio.currentTime,void this._restart();var e=new s(this.audio.error?s.html5[this.audio.error.code]:t instanceof Error?t.message:t,this.src);this.playing=!1,this.trigger(n.EVENT_ERROR,e)}},c.prototype._onNativePause=function(){this.ended||this.trigger(n.EVENT_PAUSE)},c.prototype._initUserEvents=function(){document.body.addEventListener("mousedown",this.__startupAudio,!0),document.body.addEventListener("keydown",this.__startupAudio,!0),document.body.addEventListener("touchstart",this.__startupAudio,!0)},c.prototype._deinitUserEvents=function(){document.body.removeEventListener("mousedown",this.__startupAudio,!0),document.body.removeEventListener("keydown",this.__startupAudio,!0),document.body.removeEventListener("touchstart",this.__startupAudio,!0)},c.prototype._initNativeEvents=function(){this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.addEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.addEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.addEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._deinitNativeEvents=function(){this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__onNativePause),this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__onNativePlay),this.audio.removeEventListener(c.EVENT_NATIVE_ENDED,this.__onNativeEnded),this.audio.removeEventListener(c.EVENT_NATIVE_TIMEUPDATE,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_DURATION,this.__updateProgress),this.audio.removeEventListener(c.EVENT_NATIVE_LOADING,this.__onNativeLoading),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__onNativeError)},c.prototype._initAudio=function(){DEV&&o.debug(this,"_initAudio"),this.muteEvents(),this.audio=document.createElement("audio"),this.audio.loop=!1,this.audio.preload=this.audio.autobuffer="auto",this.audio.autoplay=!1,this.audio.src="",this._initUserEvents(),this.__initListener=c._defaultInitListener,this._initNativeEvents()},c.prototype._deinitAudio=function(){DEV&&o.debug(this,"_deinitAudio"),this.muteEvents(),this._deinitUserEvents(),this._deinitNativeEvents(),this.audio=null},c.prototype._startupAudio=function(){DEV&&o.debug(this,"_startupAudio"),this._deinitUserEvents(),this.__initListener=function(t){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.__initListener=function(){this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),delete this.__initListener,this.unmuteEvents(),o.info(this,"_startupAudio:ready"))}.bind(this),this.__initListener.step="pause",this.audio.addEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),c._catchPromise(this.audio.pause()),DEV&&o.debug(this,"_startupAudio:play",t.type))}.bind(this),this.__initListener.step="play",this.audio.addEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.addEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),c._catchPromise(this.audio.load()),c._catchPromise(this.audio.play())},c.prototype._breakStartup=function(t){this._deinitUserEvents(),this.unmuteEvents(),this.__initListener&&(this.audio.removeEventListener(c.EVENT_NATIVE_PLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_CANPLAY,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_META,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_ERROR,this.__initListener),this.audio.removeEventListener(c.EVENT_NATIVE_PAUSE,this.__initListener),o.warn(this,"_startupAudio:interrupted",this.__initListener.step,t),delete this.__initListener)},c.prototype._waitFor=function(t,e,i){if(!this.promises[t]){var r=new u;if(this.promises[t]=r,e.call(this))r.resolve();else{for(var n=function(){e.call(this)&&r.resolve()}.bind(this),o=function(){for(var t=0,e=i.length;t<e;t++)this.audio.removeEventListener(i[t],n)}.bind(this),s=0,a=i.length;s<a;s++)this.audio.addEventListener(i[s],n);r.promise().then(o,o)}}return this.promises[t].promise()},c.prototype._cancelWait=function(t,e){var i;(i=this.promises[t])&&(delete this.promises[t],i.reject(e))},c.prototype._abortPromises=function(t){for(var e in this.promises)this.promises.hasOwnProperty(e)&&this._cancelWait(e,t)},c._promiseMetadataEvents=[c.EVENT_NATIVE_META,c.EVENT_NATIVE_CANPLAY],c.prototype._promiseMetadataCheck=function(){return this.audio.readyState>this.audio.HAVE_METADATA},c.prototype._promiseMetadata=function(){return this._waitFor("metadata",this._promiseMetadataCheck,c._promiseMetadataEvents)},c._promiseLoadedEvents=[c.EVENT_NATIVE_LOADING],c.prototype._promiseLoadedCheck=function(){this.__loaderTimer=this.__loaderTimer&&clearTimeout(this.__loaderTimer)||setTimeout(function(){this._cancelWait("loaded","timeout")}.bind(this),5e3);var t=Math.min(this.position+45,this.audio.duration);return this.audio.buffered.length&&this.audio.buffered.end(0)-this.audio.buffered.start(0)>=t},c.prototype._promiseLoaded=function(){var t=this._waitFor("loaded",this._promiseLoadedCheck,c._promiseLoadedEvents);return t.cleanTimer||(t.cleanTimer=function(){this.__loaderTimer=clearTimeout(this.__loaderTimer)}.bind(this),t.then(t.cleanTimer,t.cleanTimer)),t},c._promisePlayingEvents=[c.EVENT_NATIVE_TIMEUPDATE],c.prototype._promisePlayingCheck=function(){var t=Math.min(this.position+.2,this.audio.duration);return this.audio.currentTime>=t},c.prototype._promisePlaying=function(){return this._waitFor("playing",this._promisePlayingCheck,c._promisePlayingEvents)},c.prototype._promiseStartPlaying=function(){if(!this.promises.startPlaying){var t=new u;this.promises.startPlaying=t;var e,i=function(t){r=!0,this._cancelWait("startPlaying",t)}.bind(this),r=!1,n=function(){clearTimeout(e)};this._promisePlaying().then(function(){r=!0,t.resolve(),o.info(this,"startPlaying:success")}.bind(this),i),this._promiseLoaded().then(function(){r||(e=setTimeout(function(){t.reject("timeout"),this._cancelWait("playing","timeout"),o.warn(this,"startPlaying:failed")}.bind(this),5e3))}.bind(this),i),this._promisePlaying().then(n,n),t.promise().then(n,n)}return this.promises.startPlaying.promise()},c.prototype.load=function(t){DEV&&o.debug(this,"load",t),this._abortPromises("load"),this._breakStartup("load"),this.ended=!1,this.playing=!1,this.notLoading=!0,this.position=0,this.src=t,this.audio.src=t,c._catchPromise(this.audio.load())},c.prototype.stop=function(){DEV&&o.debug(this,"stop"),this._abortPromises("stop"),this._breakStartup("stop"),this.load("")},c.prototype._startPlay=function(){DEV&&o.debug(this,"_startPlay"),this.audio.currentTime=this.position,this.playing&&(this._breakStartup("startPlay"),c._catchPromise(this.audio.play()),this._promiseStartPlaying().then(function(){this.retry=0}.bind(this),this.__restart))},c.prototype._restart=function(t){if(o.info(this,"_restart",t,this.position,this.playing),this.src&&(!t||"timeout"===t)){if(this.retry++,5<this.retry)return this.playing=!1,void this.trigger(n.EVENT_ERROR,new s(s.DONT_START,this.src));var e=this.position,i=this.playing;this.load(this.src),i?this._play(e):this.setPosition(e)}},c.prototype.play=function(t){return DEV&&o.debug(this,"play",t),this.retry=0,this._play(t)},c.prototype._play=function(t){DEV&&o.debug(this,"_play",t),this.playing||(this._breakStartup("play"),this.ended=!1,this.playing=!0,this.position=null==t?this.position||0:t,this._promiseMetadata().then(this.__startPlay,a))},c.prototype.pause=function(){DEV&&o.debug(this,"pause"),this.playing=!1,this._cancelWait("startPlaying","pause"),this._breakStartup("pause"),c._catchPromise(this.audio.pause()),this.position=this.audio.currentTime},c.prototype.setPosition=function(t){DEV&&o.debug(this,"setPosition",t),isFinite(t)?(this.position=t,this._promiseMetadata().then(function(){this.audio.currentTime=this.position}.bind(this),a)):o.warn(this,"setPositionFailed",t)},c.prototype.toggleCrossDomain=function(t){t?this.audio.crossOrigin="anonymous":this.audio.removeAttribute("crossOrigin"),this._restart()},c.prototype.createSource=function(t){if(!this.output){DEV&&o.debug(this,"createSource");var e=!this.audio.crossOrigin;this.audio.crossOrigin="anonymous",this.output=t.createMediaElementSource(this.audio),this.output.connect(t.destination),e&&this._restart()}},c.prototype.destroySource=function(){this.output&&(o.warn(this,"destroySource"),this.output.disconnect(),this.output=null,this._abortPromises("destroy"),this._deinitAudio(),this._initAudio(),this._startupAudio(),this._restart())},c.prototype.destroy=function(){DEV&&o.debug(this,"destroy"),this.output&&(this.output.disconnect(),this.output=null),this._abortPromises(),this._deinitAudio(),this.__restart=null,this.__startPlay=null,this.promises=null},c.prototype._logger=function(){return{init:!!this.__initListener&&this.__initListener.step,src:o._showUrl(this.src),playing:this.playing,ended:this.ended,notLoading:this.notLoading,position:this.position}},e.exports=c},{"../audio-static":4,"../error/playback-error":8,"../lib/async/deferred":28,"../lib/async/events":29,"../lib/noop":41,"../logger/logger":43}],26:[function(t,e,i){var o=new(t("../logger/logger"))("AudioHTML5"),r=t("../lib/browser/detect"),n=t("../lib/async/events"),s=t("../audio-static"),a=t("./audio-html5-loader"),u=1;if(i.available=function(){var e=!0;try{var t=document.createElement("audio").canPlayType("audio/mpeg");t&&"no"!==t||(o.warn(this,"HTML5 detection failed with reason",t),e=!1)}catch(t){o.warn(this,"HTML5 detection failed with error",t),e=!1}return o.info(this,"detection",e),e}(),r.platform.mobile||r.platform.tablet)l=null,o.info(this,"WebAudioAPI not allowed for mobile");else try{var l=new AudioContext;o.info(this,"WebAudioAPI context created")}catch(t){l=null,o.info(this,"WebAudioAPI not detected")}var c=function(){this.name=u++,DEV&&o.debug(this,"constructor"),n.call(this),this.on("*",function(t){t!==s.EVENT_PROGRESS&&DEV&&o.debug(this,"onEvent",t)}.bind(this)),this.webAudioApi=!1,this.activeLoader=0,this.volume=1,this.loaders=[],this._addLoader(),this._addLoader(),this._setActive(0)};n.mixin(c),i.type=c.type=c.prototype.type="html5",c.prototype._addLoader=function(){DEV&&o.debug(this,"_addLoader");var r=this,n=new a;n.index=this.loaders.push(n)-1,n.on("*",function(t,e){var i=(r.loaders.length+n.index-r.activeLoader)%r.loaders.length;r.trigger(t,i,e)}),this.webAudioApi&&n.createSource(l)},c.prototype._setActive=function(t){DEV&&o.debug(this,"_setActive",t),this.activeLoader=(this.activeLoader+t)%this.loaders.length,this.trigger(s.EVENT_SWAP,t),0!==t&&this.stop(t)},c.prototype._getLoader=function(t){return t=t||0,this.loaders[(this.activeLoader+t)%this.loaders.length]},c.prototype.toggleCrossDomain=function(e){this.loaders.forEach(function(t){t.toggleCrossDomain(e)})},c.prototype.toggleWebAudioAPI=function(t){return l?(o.info(this,"toggleWebAudioAPI",t),this.webAudioApi==t?t:(t?(this.audioOutput=l.createGain(),this.audioOutput.gain.value=this.volume,this.audioOutput.connect(l.destination),this.preprocessor&&this.preprocessor.output.connect(this.audioOutput),this.loaders.forEach(function(t){t.audio.volume=1,t.createSource(l),t.output.disconnect(),t.output.connect(this.preprocessor?this.preprocessor.input:this.audioOutput)}.bind(this))):this.audioOutput&&(this.preprocessor&&this.preprocessor.output.disconnect(),this.audioOutput.disconnect(),delete this.audioOutput,this.loaders.forEach(function(t){t.audio.volume=this.volume,t.output.disconnect(),t.output.connect(l.destination)}.bind(this))),this.webAudioApi=t)):(o.warn(this,"toggleWebAudioAPIError",t),!1)},c.prototype.setAudioPreprocessor=function(e){return this.webAudioApi?(o.info(this,"setAudioPreprocessor"),this.preprocessor===e||(this.preprocessor&&this.preprocessor.output.disconnect(),(this.preprocessor=e)?(this.loaders.forEach(function(t){t.output.disconnect(),t.output.connect(e.input)}),e.output.connect(this.audioOutput)):this.loaders.forEach(function(t){t.output.disconnect(),t.output.connect(this.audioOutput)}.bind(this)),!0)):(o.warn(this,"setAudioPreprocessorError",e),!1)},c.prototype.play=function(t,e){DEV&&o.debug(this,"play",t);var i=this._getLoader();i.load(t),i.play(0)},c.prototype.pause=function(){DEV&&o.debug(this,"pause"),this._getLoader().pause()},c.prototype.resume=function(){DEV&&o.debug(this,"resume"),this._getLoader().play()},c.prototype.stop=function(t){DEV&&o.debug(this,"stop",t),this._getLoader(t||0).stop(),this.trigger(s.EVENT_STOP,t)},c.prototype.getPosition=function(){return this._getLoader().audio.currentTime},c.prototype.setPosition=function(t){DEV&&o.debug(this,"setPosition",t),this._getLoader().setPosition(t-.001)},c.prototype.getDuration=function(t){return this._getLoader(t).audio.duration},c.prototype.getLoaded=function(t){var e=this._getLoader(t);return e.audio.buffered.length?e.audio.buffered.end(0)-e.audio.buffered.start(0):0},c.prototype.getVolume=function(){return this.volume},c.prototype.setVolume=function(e){DEV&&o.debug(this,"setVolume",e),this.volume=e,this.webAudioApi?this.audioOutput.gain.value=e:this.loaders.forEach(function(t){t.audio.volume=e}),this.trigger(s.EVENT_VOLUME)},c.prototype.preload=function(t,e,i){DEV&&o.debug(this,"preload",t,i),i=null==i?1:i,this._getLoader(i).load(t)},c.prototype.isPreloaded=function(t,e){e=null==e?1:e;var i=this._getLoader(e);return i.src===t&&!i.notLoading},c.prototype.isPreloading=function(t,e){return e=null==e?1:e,this._getLoader(e).src===t},c.prototype.playPreloaded=function(t){DEV&&o.debug(this,"playPreloaded",t),t=null==t?1:t;var e=this._getLoader(t);return!!e.src&&(this._setActive(t),e.play(),!0)},c.prototype.getSrc=function(t){return this._getLoader(t).src},c.prototype.isDeviceVolume=function(){return r.onlyDeviceVolume},c.prototype._logger=function(){try{return{main:o._showUrl(this.getSrc(0)),preloader:o._showUrl(this.getSrc(1))}}catch(t){return""}},i.audioContext=l,i.AudioImplementation=c},{"../audio-static":4,"../lib/async/events":29,"../lib/browser/detect":32,"../logger/logger":43,"./audio-html5-loader":25}],27:[function(t,e,i){var r=t("./export");t("./error/export"),t("./lib/net/error/export"),t("./logger/export"),t("./fx/equalizer/export"),t("./fx/volume/export"),e.exports=r},{"./error/export":7,"./export":9,"./fx/equalizer/export":21,"./fx/volume/export":23,"./lib/net/error/export":39,"./logger/export":42}],28:[function(t,e,i){var r=t("./promise"),n=t("../noop");e.exports=function(){var i=this,t=new r(function(t,e){i.resolve=t,i.reject=e});t.catch(n),this.promise=function(){return t}}},{"../noop":41,"./promise":30}],29:[function(t,e,i){var r=t("../data/merge"),o="_listeners",s="_muted",a=function(){this[o]={},this[s]=!1};a.mixin=function(t){return r(t.prototype,a.prototype,!0),t},a.eventize=function(t){return r(t,a.prototype,!0),a.call(t),t},a.prototype.on=function(t,e){return this[o][t]||(this[o][t]=[]),this[o][t].push(e),this},a.prototype.off=function(t,e){if(!this[o][t])return this;if(!e)return delete this[o][t],this;for(var i=this[o][t],r=0,n=i.length;r<n;r++)if(i[r]===e||i[r].callback===e){i.splice(r,1),i.length||delete this[o][t];break}return this},a.prototype.once=function(t,e){var i=this,r=function(){i.off(t,r),e.apply(this,arguments)};return r.callback=e,i.on(t,r),this},a.prototype.clearListeners=function(){for(var t in this[o])this[o].hasOwnProperty(t)&&delete this[o][t];return this},a.prototype.trigger=function(t,e){if(this[s])return this;if(e=[].slice.call(arguments,1),"*"!==t&&a.prototype.trigger.apply(this,["*",t].concat(e)),!this[o][t])return this;for(var i=[].concat(this[o][t]),r=0,n=i.length;r<n;r++)i[r].apply(null,e);return this},a.prototype.pipeEvents=function(t){return this.on("*",a.prototype.trigger.bind(t)),this},a.prototype.muteEvents=function(){return this[s]=!0,this},a.prototype.unmuteEvents=function(){return delete this[s],this},e.exports=a},{"../data/merge":37}],30:[function(t,e,i){var r,n=t("vow"),o=t("../browser/detect"),s=t("../data/merge");"function"!=typeof window.Promise||"msie"===o.browser.name||"edge"===o.browser.name?(s(r=function(t){var e;try{e=new n.Promise(t)}catch(t){e=n.reject(t)}return e},n.Promise,!0),r.prototype=n.Promise.prototype):r=window.Promise,e.exports=r},{"../browser/detect":32,"../data/merge":37,vow:2}],31:[function(t,e,i){var r=t("../noop"),n=t("./promise");e.exports=function(t){var e=n.reject(t);return e.catch(r),e}},{"../noop":41,"./promise":30}],32:[function(t,e,i){var r=navigator.userAgent.toLowerCase(),n=/(ucbrowser)\/([\w.]+)/.exec(r)||/^((?!chrome).)*version\/([\d\w\.]+).*(safari)/.exec(r)||/(yabrowser)[ \/]([\w.]+)/.exec(r)||/(edge)\/([\w.]+)/.exec(r)||/(iemobile)\/([\d\.]+)/.exec(r)||/(opr|opera)(?:.*version)?[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(r)||[],o={name:n[1]||"",version:n[2]||"0"};"safari"===n[3]&&(o.name=n[3]),"msie"===o.name&&(document.documentMode?o.documentMode=document.documentMode:(o.documentMode=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(o.documentMode=7))),"opr"===o.name&&(o.name="opera"),"mozilla"===o.name&&"11"===o.version.split(".")[0]&&(o.name="msie");a=/(windows phone|ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(r)||[];var s=/(ipad|playbook)/.exec(r)||!/(mobile)/.exec(r)&&/(android)/.exec(r)||[];a[1]&&(a[1]=a[1].replace(/\s/g,"_"));var a={type:a[1]||"",tablet:!!s[1],mobile:a[1]&&!s[1]||!1};a.type||(a.type="pc"),a.os=a.type,"ipad"===a.type||"iphone"===a.type||"ipod"===a.type?a.os="ios":"android"===a.type?a.os="android":"windows phone"===a.type||-1!==navigator.appVersion.indexOf("Win")?(a.os="windows",a.version=navigator.userAgent.match(/win[^ ]* ([^;]*)/i),a.version=a.version&&a.version[1]):-1!==navigator.appVersion.indexOf("Mac")?a.os="macos":-1!==navigator.appVersion.indexOf("X11")?a.os="unix":-1!==navigator.appVersion.indexOf("Linux")&&(a.os="linux");var u=!0;try{var l=document.createElement("audio");l.volume=.63,u=.01<Math.abs(l.volume-.63)}catch(t){u=!0}var c={browser:o,platform:a,onlyDeviceVolume:u};e.exports=c},{}],33:[function(t,e,i){var W=function(){var u,l,c,h,a,p,E="undefined",y="object",d="Shockwave Flash",f="application/x-shockwave-flash",_="SWFObjectExprInst",t="onreadystatechange",m=window,v=document,g=navigator,b=!1,r=[function(){b?function(){var e=v.getElementsByTagName("body")[0],i=j(y);i.setAttribute("type",f);var r=e.appendChild(i);if(r){var n=0;!function(){if(typeof r.GetVariable!=E){var t=r.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),N.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(n<10)return n++,setTimeout(arguments.callee,10);e.removeChild(i),r=null,L()}()}else L()}():L()}],T=[],w=[],s=[],n=!1,A=!1,o=!0,N=function(){var t=typeof v.getElementById!=E&&typeof v.getElementsByTagName!=E&&typeof v.createElement!=E,e=g.userAgent.toLowerCase(),i=g.platform.toLowerCase(),r=/win/.test(i||e),n=/mac/.test(i||e),o=!!/webkit/.test(e)&&parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,a=[0,0,0],u=null;if(typeof g.plugins!=E&&typeof g.plugins[d]==y)!(u=g.plugins[d].description)||typeof g.mimeTypes!=E&&g.mimeTypes[f]&&!g.mimeTypes[f].enabledPlugin||(s=!(b=!0),u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(u.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(u.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(u)?parseInt(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof m.ActiveXObject!=E)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(u=l.GetVariable("$version"))&&(s=!0,u=u.split(" ")[1].split(","),a=[parseInt(u[0],10),parseInt(u[1],10),parseInt(u[2],10)])}catch(t){}return{w3:t,pv:a,wk:o,ie:s,win:r,mac:n}}();function e(){if(!n){try{var t=v.getElementsByTagName("body")[0].appendChild(j("span"));t.parentNode.removeChild(t)}catch(t){return}n=!0;for(var e=r.length,i=0;i<e;i++)r[i]()}}function i(t){n?t():r[r.length]=t}function P(t){if(typeof m.addEventListener!=E)m.addEventListener("load",t,!1);else if(typeof v.addEventListener!=E)v.addEventListener("load",t,!1);else if(typeof m.attachEvent!=E)r="onload",n=t,(i=m).attachEvent(r,n),s[s.length]=[i,r,n];else if("function"==typeof m.onload){var e=m.onload;m.onload=function(){e(),t()}}else m.onload=t;var i,r,n}function L(){var t=T.length;if(0<t)for(var e=0;e<t;e++){var i=T[e].id,r=T[e].callbackFn,n={success:!1,id:i};if(0<N.pv[0]){var o=k(i);if(o)if(!F(T[e].swfVersion)||N.wk&&N.wk<312)if(T[e].expressInstall&&S()){var s={};s.data=T[e].expressInstall,s.width=o.getAttribute("width")||"0",s.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(s.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(s.align=o.getAttribute("align"));for(var a={},u=o.getElementsByTagName("param"),l=u.length,c=0;c<l;c++)"movie"!=u[c].getAttribute("name").toLowerCase()&&(a[u[c].getAttribute("name")]=u[c].getAttribute("value"));O(s,a,i,r)}else R(o),r&&r(n);else U(i,!0),r&&(n.success=!0,n.ref=V(i),r(n))}else if(U(i,!0),r){var h=V(i);h&&typeof h.SetVariable!=E&&(n.success=!0,n.ref=h),r(n)}}}function V(t){var e=null,i=k(t);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=E)e=i;else{var r=i.getElementsByTagName(y)[0];r&&(e=r)}return e}function S(){return!A&&F("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function O(t,e,i,r){c=r||null,h={success:!(A=!0),id:i};var n=k(i);if(n){"OBJECT"==n.nodeName?(u=D(n),l=null):(u=n,l=i),t.id=_,(typeof t.width==E||!/%$/.test(t.width)&&parseInt(t.width,10)<310)&&(t.width="310"),(typeof t.height==E||!/%$/.test(t.height)&&parseInt(t.height,10)<137)&&(t.height="137"),v.title=v.title.slice(0,47)+" - Flash Player Installation";var o=N.ie&&N.win?"ActiveX":"PlugIn",s="MMredirectURL="+m.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+v.title;if(typeof e.flashvars!=E?e.flashvars+="&"+s:e.flashvars=s,N.ie&&N.win&&4!=n.readyState){var a=j("div");i+="SWFObjectNew",a.setAttribute("id",i),n.parentNode.insertBefore(a,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}x(t,e,i)}}function R(t){if(N.ie&&N.win&&4!=t.readyState){var e=j("div");t.parentNode.insertBefore(e,t),e.parentNode.replaceChild(D(t),e),t.style.display="none",function(){4==t.readyState?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(D(t),t)}function D(t){var e=j("div");if(N.win&&N.ie)e.innerHTML=t.innerHTML;else{var i=t.getElementsByTagName(y)[0];if(i){var r=i.childNodes;if(r)for(var n=r.length,o=0;o<n;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||e.appendChild(r[o].cloneNode(!0))}}return e}function x(t,e,i){var r,n=k(i);if(N.wk&&N.wk<312)return r;if(n)if(typeof t.id==E&&(t.id=i),N.ie&&N.win){var o="";for(var s in t)t[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?e.movie=t[s]:"styleclass"==s.toLowerCase()?o+=' class="'+t[s]+'"':"classid"!=s.toLowerCase()&&(o+=" "+s+'="'+t[s]+'"'));var a="";for(var u in e)e[u]!=Object.prototype[u]&&(a+='<param name="'+u+'" value="'+e[u]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",w[w.length]=t.id,r=k(t.id)}else{var l=j(y);for(var c in l.setAttribute("type",f),t)t[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?l.setAttribute("class",t[c]):"classid"!=c.toLowerCase()&&l.setAttribute(c,t[c]));for(var h in e)e[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&I(l,h,e[h]);n.parentNode.replaceChild(l,n),r=l}return r}function I(t,e,i){var r=j("param");r.setAttribute("name",e),r.setAttribute("value",i),t.appendChild(r)}function C(t){var e=k(t);e&&"OBJECT"==e.nodeName&&(N.ie&&N.win?(e.style.display="none",function(){4==e.readyState?function(t){var e=k(t);if(e){for(var i in e)"function"==typeof e[i]&&(e[i]=null);e.parentNode.removeChild(e)}}(t):setTimeout(arguments.callee,10)}()):e.parentNode.removeChild(e))}function k(t){var e=null;try{e=v.getElementById(t)}catch(t){}return e}function j(t){return v.createElement(t)}function F(t){var e=N.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,e[0]>i[0]||e[0]==i[0]&&e[1]>i[1]||e[0]==i[0]&&e[1]==i[1]&&e[2]>=i[2]}function M(t,e,i,r){if(!N.ie||!N.mac){var n=v.getElementsByTagName("head")[0];if(n){var o=i&&"string"==typeof i?i:"screen";if(r&&(p=a=null),!a||p!=o){var s=j("style");s.setAttribute("type","text/css"),s.setAttribute("media",o),a=n.appendChild(s),N.ie&&N.win&&typeof v.styleSheets!=E&&0<v.styleSheets.length&&(a=v.styleSheets[v.styleSheets.length-1]),p=o}N.ie&&N.win?a&&typeof a.addRule==y&&a.addRule(t,e):a&&typeof v.createTextNode!=E&&a.appendChild(v.createTextNode(t+" {"+e+"}"))}}}function U(t,e){if(o){var i=e?"visible":"hidden";n&&k(t)?k(t).style.visibility=i:M("#"+t,"visibility:"+i)}}function B(t){return null!=/[\\\"<>\.;]/.exec(t)&&typeof encodeURIComponent!=E?encodeURIComponent(t):t}return N.w3&&((typeof v.readyState!=E&&"complete"==v.readyState||typeof v.readyState==E&&(v.getElementsByTagName("body")[0]||v.body))&&e(),n||(typeof v.addEventListener!=E&&v.addEventListener("DOMContentLoaded",e,!1),N.ie&&N.win&&(v.attachEvent(t,function(){"complete"==v.readyState&&(v.detachEvent(t,arguments.callee),e())}),m==top&&function(){if(!n){try{v.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0)}e()}}()),N.wk&&function(){n||(/loaded|complete/.test(v.readyState)?e():setTimeout(arguments.callee,0))}(),P(e))),N.ie&&N.win&&window.attachEvent("onunload",function(){for(var t=s.length,e=0;e<t;e++)s[e][0].detachEvent(s[e][1],s[e][2]);for(var i=w.length,r=0;r<i;r++)C(w[r]);for(var n in N)N[n]=null;for(var o in N=null,W)W[o]=null;W=null}),{registerObject:function(t,e,i,r){if(N.w3&&t&&e){var n={};n.id=t,n.swfVersion=e,n.expressInstall=i,n.callbackFn=r,T[T.length]=n,U(t,!1)}else r&&r({success:!1,id:t})},getObjectById:function(t){if(N.w3)return V(t)},embedSWF:function(s,a,u,l,c,h,p,d,f,_){var m={success:!1,id:a};N.w3&&!(N.wk&&N.wk<312)&&s&&a&&u&&l&&c?(U(a,!1),i(function(){u+="",l+="";var t={};if(f&&typeof f===y)for(var e in f)t[e]=f[e];t.data=s,t.width=u,t.height=l;var i={};if(d&&typeof d===y)for(var r in d)i[r]=d[r];if(p&&typeof p===y)for(var n in p)typeof i.flashvars!=E?i.flashvars+="&"+n+"="+p[n]:i.flashvars=n+"="+p[n];if(F(c)){var o=x(t,i,a);t.id==a&&U(a,!0),m.success=!0,m.ref=o}else{if(h&&S())return t.data=h,void O(t,i,a,_);U(a,!0)}_&&_(m)})):_&&_(m)},switchOffAutoHideShow:function(){o=!1},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(t,e,i){return N.w3?x(t,e,i):void 0},showExpressInstall:function(t,e,i,r){N.w3&&S()&&O(t,e,i,r)},removeSWF:function(t){N.w3&&C(t)},createCSS:function(t,e,i,r){N.w3&&M(t,e,i,r)},addDomLoadEvent:i,addLoadEvent:P,getQueryParamValue:function(t){var e=v.location.search||v.location.hash;if(e){if(/\?/.test(e)&&(e=e.split("?")[1]),null==t)return B(e);for(var i=e.split("&"),r=0;r<i.length;r++)if(i[r].substring(0,i[r].indexOf("="))==t)return B(i[r].substring(i[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(A){var t=k(_);t&&u&&(t.parentNode.replaceChild(u,t),l&&(U(l,!0),N.ie&&N.win&&(u.style.display="block")),c&&c(h)),A=!1}}}}();e.exports=W},{}],34:[function(t,e,i){var r=t("./pure-instance"),n=function(t,e){var i=new Error(t,e);i.name=this.name,this.message=i.message,this.stack=i.stack};n.create=function(t){var e=r(this);return e.name=t,e},(n.prototype=r(Error)).name="ErrorClass",e.exports=n},{"./pure-instance":36}],35:[function(t,e,i){var r=t("../async/events"),a=function(t){if(t){for(var e in t)"_"===e[0]||"function"!=typeof t[e]||t[e]===Object.prototype[e]||t.hasOwnProperty(e)||r.prototype.hasOwnProperty(e)||(this[e]=t[e].bind(t));t.pipeEvents&&(r.call(this),this.on=r.prototype.on,this.once=r.prototype.once,this.off=r.prototype.off,this.clearListeners=r.prototype.clearListeners,t.pipeEvents(this))}};a.exportStatic=function(e,i,r){r=r||[],Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&"_"!==t[0]&&"prototype"!==t&&-1===r.indexOf(t)&&(i[t]=e[t])})},a.createClass=function(i,t,e){var r,n=function(){var t=function(){};t.prototype=i.prototype;var e=new t;return i.apply(e,arguments),e._proxy()},o=function(){};for(var s in o.prototype=(t||a).prototype,n.prototype=new o,i.prototype)r=i.prototype[s],Object.prototype[s]!=r&&"function"!=typeof r&&"_"!==s[0]&&(n.prototype[s]=r);return i.prototype._proxy=function(){return this.__proxy||(this.__proxy=function(t){var e=a.prototype;a.prototype=n.prototype;var i=new a(t);return a.prototype=e,i}(this)),this.__proxy},e||a.exportStatic(i,n),n},e.exports=a},{"../async/events":29}],36:[function(t,e,i){e.exports=function(t){var e=function(){};return e.prototype=t.prototype,new e}},{}],37:[function(t,e,i){e.exports=function(t){var e,i,r=[].slice.call(arguments,1);if(!0===r[r.length-1])e=t,r.pop();else for(i in e={},t)t.hasOwnProperty(i)&&(e[i]=t[i]);for(var n=0,o=r.length;n<o;n++)for(i in r[n])r[n].hasOwnProperty(i)&&(e[i]=r[n][i]);return e}},{}],38:[function(t,e,i){t("../export"),ya.music.lib||(ya.music.lib={});var r=t("./async/events"),n=t("./class/error-class"),o=t("./class/pure-instance"),s=function(){r.call(this)};s.prototype=o(r),s.mixin=r.mixin,s.eventize=r.eventize;var a=function(){n.apply(this,arguments)};a.prototype=o(n),a.create=n.create,ya.music.lib.Events=s,ya.music.lib.Error=a,ya.music.lib.Promise=t("./async/promise"),ya.music.lib.Deferred=t("./async/deferred"),ya.music.lib.pureInstance=o,ya.music.lib.merge=t("./data/merge"),ya.music.info=t("./browser/detect")},{"../export":9,"./async/deferred":28,"./async/events":29,"./async/promise":30,"./browser/detect":32,"./class/error-class":34,"./class/pure-instance":36,"./data/merge":37}],39:[function(t,e,i){t("../../../export");var r=t("./loader-error");ya.music.Audio.LoaderError=r},{"../../../export":9,"./loader-error":40}],40:[function(t,e,i){var r=t("../../class/error-class"),n=function(t){r.call(this,t)};n.prototype=r.create("LoaderError"),n.TIMEOUT="request timeout",n.FAILED="request failed",e.exports=n},{"../../class/error-class":34}],41:[function(t,e,i){e.exports=function(){}},{}],42:[function(t,e,i){t("../export");var r=t("./logger");ya.music.Audio.Logger=r},{"../export":9,"./logger":43}],43:[function(t,e,i){var r=t("../lib/noop"),o=function(t){this.channel=t};o.ignores=[],o.logLevels=[],o.prototype.debug=r,o.prototype.log=r,o.prototype.info=r,o.prototype.warn=r,o.prototype.error=r,o.prototype.trace=r,o.prototype._showUrl=function(t){return o.showUrl(t)},o.showUrl=function(t){return t},["debug","log","info","warn","error","trace"].forEach(function(e){o.prototype[e]=function(){var t=[].slice.call(arguments);t.unshift(this.channel),t.unshift(e),o.log.apply(o,t)}}),o.log=function(t,e,i){var r=[].slice.call(arguments,3).map(function(t){return t&&t._logger&&t._logger()||t}),n={timestamp:+new Date,level:t,channel:e,context:i,message:r};o.ignores[e]||-1===o.logLevels.indexOf(t)||o._dumpEntry(n)},o._dumpEntry=function(t){try{var e=t.level,i=t.context&&(t.context.taskName||t.context.name),r=t.context&&(t.context._logger?t.context._logger():"");"function"!=typeof console[e]?console.log.apply(console,[e.toUpperCase(),o._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",r].concat(t.message)):console[e].apply(console,[o._formatTimestamp(t.timestamp),"["+t.channel+(i?":"+i:"")+"]",r].concat(t.message))}catch(t){}},o._formatTimestamp=function(t){var e=new Date(t),i=e.getMilliseconds();return i=100<i?i:10<i?"0"+i:"00"+i,e.toLocaleTimeString()+"."+i},e.exports=o},{"../lib/noop":41}]},{},[27]);var AudioPlayer=function(i){var r={};function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}return n.m=i,n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,i){"use strict";var r=i(1);t.exports=r},function(t,e,i){"use strict";var n=i(2),u=i(5),l=i(6);t.exports=function(i){i=new l(i);var o=new u(i),r=i.container,s=i.className,t=i.tracks,a=i.getChildClassName;t.forEach(function(t){var e;r.appendChild((e=t,new n(i).render(e)))}),r.addEventListener("click",function(t){var e=t.target,i=e.closest("button"),r=s?e.closest("."+a("progress-bar")):e.closest(".progress-bar");if(i||r){var n=e.closest("[data-name]");i?o.controlPlayback(n):o.handlePlaybackPosition(n,t)}})}},function(t,e,i){"use strict";var l=i(3).createElement;t.exports=function(t){var s=t.className,e=t.buttonText,a=t.getChildClassName,u=Array.isArray(e)&&2===e.length?e[0]:"";this.render=function(t){var e,i,r,n,o;return e=l("div",s),i=l("button",a("play-button"),u),r=l("p",a("track-title"),t),n=l("div",a("progress-bar")),o=l("div",a("progress-bar__current")),n.appendChild(o),[i,r,n].forEach(function(t){e.appendChild(t)}),e.setAttribute("data-name",t),e}}},function(t,e,i){"use strict";var r=i(4),n=(Element.prototype,Document.prototype,DocumentFragment.prototype,{createElement:function(t,e,i){var r=document.createElement(t);return e&&(r.className=e),i&&(r.innerHTML=i),r},getNodeFromSelector:o(r.query),getNodesFromSelector:o(r.queryAll)});function o(e){return function(t){return"string"==typeof t?e(t):t}}t.exports=n},function(t,e,i){"use strict";var r={};function n(i){return function(t,e){if(r[t])return r[t];e=e||document;return r[t]=e[i](t),r[t]}}t.exports={query:n("querySelector"),queryAll:n("querySelectorAll")}},function(t,e,i){"use strict";var s,a,u,l,c=new ya.music.Audio;t.exports=function(o){this.controlPlayback=function(t){s=o.getUrl,o.getModifierClassName,a=o.getChildClassName,u=o.changeTrackState;var e=c.getState(),i=currentTrack===t;i&&"playing"===e?(u("paused"),c.pause()):i&&"paused"===e?(u("playing"),c.resume()):r(t);function r(t){var e,i=s(t.getAttribute("data-name"));currentTrack&&n(),currentTrack=t,l=currentTrack.getElementsByClassName(a("progress-bar"))[0],e=l.getElementsByClassName(a("progress-bar__current"))[0],c.on(ya.music.Audio.EVENT_PROGRESS,function(t){e.style.width=(t.position/t.duration*100).toFixed(2)+"%"}),u("playing"),c.isPreloaded(i)?c.playPreloaded(i):c.play(i)}function n(){u("reset")}c.on(ya.music.Audio.EVENT_LOADED,function(){var t,e=currentTrack.nextElementSibling;e&&(t=s(e.getAttribute("data-name")),c.preload(t))}),c.on(ya.music.Audio.EVENT_ENDED,function(){var t=currentTrack.nextElementSibling;t?r(t)():n()})},this.handlePlaybackPosition=function(t,e){if(t!==currentTrack)return;var i=l.offsetWidth,r=function t(e){var i=e.offsetLeft;e.offsetParent&&(i+=t(e.offsetParent));return i}(l),n=Math.max(0,Math.min(1,((e.pageX||e.screenX)-r)/i)),o=c.getDuration();c.setPosition(o*n)}}},function(t,e,i){"use strict";var s=i(7);t.exports=function(t){this.tracks=t.tracks||[],this.className=t.className||"",this.buttonText="buttonText"in t?t.buttonText:["Play","Pause"],this.container=t.container||document.body;var e=t.pathName||"",i=t.ext||".mp3";window.currentTrack="";var r=o.bind(this,"__"),n=o.bind(this,"--");function o(t,e){return this.className?this.className+t+e:e}this.getModifierClassName=n,this.getChildClassName=r,this.changeTrackState=s(this),this.getUrl=function(t){return e+t+i}}},function(t,e,i){"use strict";t.exports=function(t){var e,i,n;function r(t,e){var i=n(t),r=n(e);currentTrack.classList.remove(i),currentTrack.classList.add(r)}function o(t){e&&(currentTrack.querySelector("button").innerHTML=i[t])}return e=Array.isArray(t.buttonText)&&2===t.buttonText.length?t.buttonText:"",i=e?{paused:e[0],playing:e[1]}:null,n=t.getModifierClassName,function(t){switch(t){case"paused":r("playing","paused"),o("paused");break;case"playing":r("paused","playing"),o("playing");break;default:currentTrack.classList.remove(n("playing"),n("paused")),o("paused")}}}}]);